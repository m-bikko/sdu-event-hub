# Shareable User Profile Links

The SDU Event Hub application now supports shareable user profile links, allowing administrators to generate unique URLs that display a user's profile information and event tickets without requiring login.

## How It Works

Each user can have a unique shareable token associated with their profile. This token is used to create a public URL that anyone can visit to view the user's profile information and tickets.

### For Administrators

#### Generating Shareable Links

1. Go to the Admin Dashboard and navigate to User Management
2. In the user list, you'll see a "Share Link" column with options to generate links
3. Click the "Generate" button next to a user to create a new shareable token
4. For users who already have a token, you'll see a "View" button to open their public profile
5. You can also regenerate the token using the refresh icon button

#### User Detail View

1. Click on "View" in the user list to access the user detail page
2. In the user detail page, you'll find a "Shareable Profile Link" section
3. Here you can view the full URL, copy it to clipboard, or preview the public profile
4. You can regenerate the link using the "Regenerate Share Link" button

### For Users

Users do not have direct access to generate or manage their share tokens. Only administrators can create and regenerate these tokens.

### Technical Implementation

The feature is implemented using a dedicated `UserShareToken` model that stores tokens separately from the User table. This approach avoids modifying the existing User table schema.

Key components:
- `UserShareToken` model in `models.py` 
- Token generation and retrieval methods in the User model
- Public profile view in `events.py` to display user data based on tokens
- Admin UI elements in templates to manage tokens

## URLs and Routes

- Public user profile: `/user/<token>` 
- Generate/regenerate token: `/admin/user/<user_id>/generate-share-token` (POST)

## Getting Started

To set up this feature:

1. Run the `create_share_tokens_table.py` script to create the necessary database table:
   ```
   python create_share_tokens_table.py
   ```

2. Start the application and log in as an administrator
3. Navigate to the User Management section
4. Generate tokens for users as needed

## Security Considerations

- Tokens are automatically generated using a cryptographically secure random function
- Each token is 32 bytes (encoded as a URL-safe string)
- Tokens can be regenerated by administrators if needed
- The public view displays limited user information and does not expose sensitive data